<div class="widgets">

    <div ba-panel ba-panel-title="Gallery Visitors" ba-panel-class="mail-panel" ng-app="BlurAdmin.pages.gallery" >
        <div class="mail-navigation-container" ng-class="{'expanded' : !tabCtrl.navigationCollapsed}">
                <div ng-app="BlurAdmin.pages.gallery" ng-controller="GalleryListCtrl">
                        <div ng-repeat="t in list" ui-sref-active="active" class="mail-navigation"
                                 ng-click="selectTab(t.galleryid)" >
                          {{t.displayname}}
                        </div>
                </div>
        </div>
        <div class="side-message-navigation ng-scope expanded">
            <div class="add-row-editable-table clearfix">
                <button type="button" class="btn btn-info pull-right" data-toggle="modal" ng-app="BlurAdmin.pages.gallery" ng-controller="ModalsPageCtrl" ng-click="open('app/pages/gallery/galleryModal.html')"><i class="fa fa-plus"></i> Add Visitors</button>
            </div>
            <div class="messages">
			<table class="table table-hover gallery_table" ng-controller="GalleryCtrl">
				<thead>
                    <tr>
                        <th width="10%">Image</th>
                        <th width="25%">Case Id</th>
                        <th width="30%">Name</th>
                        <th>Property</th>
                        <th width="10%">Action</th>
                    </tr>
				</thead>
				<tbody>
                    <tr ng-repeat="user in records" ng-init="i = $index; data = records">
                        <td>
                            <span data-ng-hide="editMode">
                                <img src="data:image/png;base64,{{user.image}}" style="width: auto; height: 70px; margin: 5px;" />
                            </span>
							<div class="upload-btn-wrapper" data-ng-show="editMode">
							  <button class="btn btn-default">Upload a file</button>
							  <input type="file" data-ng-model="user.image" data-ng-required onchange="uploadEditFile(this.files)" class="upload_btn ng-pristine"/>
							</div>
                            
                        </td>
                        <td>
                            <span>{{user.caseID}}</span>
                        </td>
                        <td>
                            <span data-ng-hide="editMode">{{user.name }}</span>
                            <input type="text" data-ng-show="editMode" data-ng-model="user.name" data-ng-required class="editable-input form-control ng-pristine" />
                        </td>
                        <td>
                            <span data-ng-hide="editMode">{{user.property }}</span>
                            <input type="text" data-ng-show="editMode" data-ng-model="user.property" data-ng-required class="editable-input form-control ng-pristine" />
                        </td>
                        <td >
                            <button type="submit"  data-ng-hide="editMode" data-ng-click="editMode = true" class="btn btn-info btn-sm"  data-toggle="tooltip" title="Edit"><i class="fa fa-pencil"></i></button>
                            <button class="btn btn-danger btn-sm"  data-ng-hide="editMode" ng-click="removeGallery(user.caseID)" data-toggle="tooltip" title="Delete"><i class="fa fa-trash"></i> </button>
                            <button type="submit" data-ng-show="editMode" data-ng-click="updateGallery(user)" class="btn btn-primary editable-table-button btn-xs">Save</button>
                            <button type="submit" data-ng-show="editMode" data-ng-click="editMode = false" class="btn btn-default editable-table-button btn-xs">Cancel</button>
                        </td>
                    </tr>
				</tbody>
            </table>
        </div>
        </div>
      </div>
    </div>
